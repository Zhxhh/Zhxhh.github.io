<html>
    <head>
        <meta charset="utf-8"> 
      </head>
    <style>
        a {
            font-size: 50px;
        }
        body{
            padding: 200px;
        }
        button {
            padding: 30px;
        }
    </style>


<body>

    <h1>嗨 <p id="text">我是灰页面</p> </h1>
</body>

<script>
    try {
        let alertQuery = new URL(location.href).searchParams.get("alert");
        if (alertQuery) {
            alert("我执行了js代码, 如果是同步拦截成功我不应该出现")
        }

        let jump = new URL(location.href).searchParams.get("jump");
        let text = new URL(location.href).searchParams.get("text");
        document.getElementById('text').innerText = text;
        if (jump) {
            if (jump.startsWith("black")) {
                redirectTo(`https://test.xseclink.cn/qa_test/risk9?q=${Math.random()}`)
            } else if (jump.startsWith("white")) {
                redirectTo(`https://www.douyin.com?q=${Math.random()}`)
            } else if (jump.startsWith("grey")) {
                redirectTo('./grey.html')
            }
        }
        let jumpPage = new URL(location.href).searchParams.get("jumpPage");
        if (jumpPage) {
            redirectTo(jumpPage)
        }

        function redirectTo(url) {
            setTimeout(() => {
                location.href  = url;  
            }, 1000)
        }
        console.log(122,jump);
    } catch(e) {
        console.error(1233,e);
    }
</script>
</html>